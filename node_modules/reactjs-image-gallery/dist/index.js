'use strict';function _interopDefault(a){return a&&"object"==typeof a&&"default"in a?a["default"]:a}var React=require("react"),React__default=_interopDefault(React),PropTypes=_interopDefault(require("prop-types")),classCallCheck=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")},createClass=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),inherits=function(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)},possibleConstructorReturn=function(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&("object"==typeof b||"function"==typeof b)?b:a};function appendStyle(a,b){if(!document.head.querySelector("#"+a)){var c=document.createElement("style");c.textContent=b,c.type="text/css",c.id=a,document.head.appendChild(c)}}var StyleInjector=function(a){function b(){return classCallCheck(this,b),possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return inherits(b,a),createClass(b,[{key:"componentDidMount",value:function(){appendStyle(this.props.name,this.props.css)}},{key:"componentWillUnmount",value:function(){var a=document.getElementById(this.props.name);a.parentNode.removeChild(a)}},{key:"render",value:function(){return null}}]),b}(React.Component),lightboxStyles=function(a){var b=a.imageBackgroundColor;return"\n  body {\n    overflow: hidden;\n  }\n\n  .__react_modal_image__modal_container {\n    position: fixed;\n    z-index: 5000;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0, 0, 0, 0.8);\n    touch-action: none;\n    overflow: hidden;\n  }\n\n  .__react_modal_image__modal_content {\n    position: relative;\n    height: 100%;\n    width: 100%;\n  }\n\n  .__react_modal_image__modal_content img, \n  .__react_modal_image__modal_content svg {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate3d(-50%, -50%, 0);\n    -webkit-transform: translate3d(-50%, -50%, 0);\n    -ms-transform: translate3d(-50%, -50%, 0);\n    overflow: hidden;\n  }\n\n  .__react_modal_image__medium_img {\n    max-width: 98%;\n    max-height: 98%;\n    background-color: "+b+";\n  }\n\n  .__react_modal_image__large_img {\n    cursor: move;\n    background-color: "+b+"\n  }\n\n  .__react_modal_image__icon_menu a {\n    display: inline-block;\n    font-size: 40px;\n    cursor: pointer;\n    line-height: 40px;\n    box-sizing: border-box;\n    border: none;\n    padding: 0px 5px 0px 5px;\n    margin-left: 10px;\n    color: white;\n    background-color: rgba(0, 0, 0, 0);\n  }\n\n  .__react_modal_image__icon_menu {\n    display: inline-block;\n    float: right;\n  }\n\n  .__react_modal_image__caption {\n    display: inline-block;\n    color: white;\n    font-size: 120%;\n    padding: 10px;\n    margin: 0;\n  }\n\n  .__react_modal_image__header {\n    position: absolute;\n    top: 0;\n    width: 100%;\n    background-color: rgba(0, 0, 0, 0.7);\n    overflow: hidden;\n  }\n"},ZoomInIcon=function(){return React__default.createElement("svg",{fill:"#ffffff",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},React__default.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),React__default.createElement("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"}))},ZoomOutIcon=function(){return React__default.createElement("svg",{fill:"#ffffff",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},React__default.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),React__default.createElement("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"}))},DownloadIcon=function(){return React__default.createElement("svg",{fill:"#ffffff",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},React__default.createElement("path",{d:"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"}),React__default.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))},LeftArrowIcon=function(){return React__default.createElement("svg",{fill:"#ffffff",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},React__default.createElement("path",{d:"M0 12c0 6.627 5.373 12 12 12s12-5.373 12-12-5.373-12-12-12-12 5.373-12 12zm7.58 0l5.988-5.995 1.414 1.416-4.574 4.579 4.574 4.59-1.414 1.416-5.988-6.006z"}),React__default.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))},RightArrowIcon=function(){return React__default.createElement("svg",{fill:"#ffffff",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},React__default.createElement("path",{d:"M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm-1.568 18.005l-1.414-1.415 4.574-4.59-4.574-4.579 1.414-1.416 5.988 5.995-5.988 6.005z"}),React__default.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))},CloseIcon=function(){return React__default.createElement("svg",{fill:"#ffffff",height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"},React__default.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),React__default.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))},SpinnerIcon=function(){return React__default.createElement("svg",{fill:"#ffffff",height:"48",viewBox:"0 0 24 24",width:"48",xmlns:"http://www.w3.org/2000/svg"},React__default.createElement("path",{d:"M6 2v6h.01L6 8.01 10 12l-4 4 .01.01H6V22h12v-5.99h-.01L18 16l-4-4 4-3.99-.01-.01H18V2H6zm10 14.5V20H8v-3.5l4-4 4 4zm-4-5l-4-4V4h8v3.5l-4 4z"}),React__default.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}))},RotateIcon=function(){return React__default.createElement("svg",{fill:"#ffffff",width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},React__default.createElement("path",{fill:"none",d:"M0 0h24v24H0V0zm0 0h24v24H0V0z"}),React__default.createElement("path",{d:"M7.47 21.49C4.2 19.93 1.86 16.76 1.5 13H0c.51 6.16 5.66 11 11.95 11 .23 0 .44-.02.66-.03L8.8 20.15l-1.33 1.34zM12.05 0c-.23 0-.44.02-.66.04l3.81 3.81 1.33-1.33C19.8 4.07 22.14 7.24 22.5 11H24c-.51-6.16-5.66-11-11.95-11zM16 14h2V8c0-1.11-.9-2-2-2h-6v2h6v6zm-8 2V4H6v2H4v2h2v8c0 1.1.89 2 2 2h8v2h2v-2h2v-2H8z"}))},Header=function(a){var b=a.image,c=a.alt,d=a.zoomed,e=a.toggleZoom,f=a.toggleRotate,g=a.onClose,h=a.enableDownload,i=a.enableZoom,j=a.enableRotate,k=a.onLeftArrowClick,l=a.onRightArrowClick;return React__default.createElement("div",{className:"__react_modal_image__header"},React__default.createElement("span",{className:"__react_modal_image__icon_menu"},k&&React__default.createElement("a",{onClick:k},React__default.createElement(LeftArrowIcon,null)),l&&React__default.createElement("a",{onClick:l},React__default.createElement(RightArrowIcon,null)),h&&React__default.createElement("a",{href:b,download:!0},React__default.createElement(DownloadIcon,null)),i&&React__default.createElement("a",{onClick:e},d?React__default.createElement(ZoomOutIcon,null):React__default.createElement(ZoomInIcon,null)),j&&React__default.createElement("a",{onClick:f},React__default.createElement(RotateIcon,null)),React__default.createElement("a",{onClick:g},React__default.createElement(CloseIcon,null))),c&&React__default.createElement("span",{className:"__react_modal_image__caption"},c))},Image=function(a){function b(){var a,c,d,e;classCallCheck(this,b);for(var f=arguments.length,g=Array(f),h=0;h<f;h++)g[h]=arguments[h];return e=(c=(d=possibleConstructorReturn(this,(a=b.__proto__||Object.getPrototypeOf(b)).call.apply(a,[this].concat(g))),d),d.state={loading:!0},d.handleOnLoad=function(){d.setState({loading:!1})},d.handleOnContextMenu=function(a){d.props.contextMenu||a.preventDefault()},c),possibleConstructorReturn(d,e)}return inherits(b,a),createClass(b,[{key:"render",value:function(){var a=this.props,b=a.id,c=a.className,d=a.src,e=a.style,f=a.handleDoubleClick;return React__default.createElement("div",null,this.state.loading&&React__default.createElement(SpinnerIcon,null),React__default.createElement("img",{id:b,className:c,src:d,style:e,onLoad:this.handleOnLoad,onDoubleClick:f,onContextMenu:this.handleOnContextMenu}))}}]),b}(React.Component),Lightbox=function(a){function b(){var a,c,d,e;classCallCheck(this,b);for(var f=arguments.length,g=Array(f),h=0;h<f;h++)g[h]=arguments[h];return e=(c=(d=possibleConstructorReturn(this,(a=b.__proto__||Object.getPrototypeOf(b)).call.apply(a,[this].concat(g))),d),d.state={move:{x:0,y:0},moveStart:void 0,zoomed:!1,rotationDeg:0},d.handleKeyDown=function(a){(27===a.keyCode||13===a.keyCode)&&d.props.onClose()},d.getCoordinatesIfOverImg=function(a){var b=a.changedTouches?a.changedTouches[0]:a;if("react-modal-image-img"===b.target.id){var c=d.contentEl.getBoundingClientRect(),e=b.clientX-c.left,f=b.clientY-c.top;return{x:e,y:f}}},d.handleMouseDownOrTouchStart=function(a){if(a.preventDefault(),!(a.touches&&1<a.touches.length)){var b=d.getCoordinatesIfOverImg(a);b||d.props.onClose(),d.state.zoomed&&d.setState(function(a){return{moveStart:{x:b.x-a.move.x,y:b.y-a.move.y}}})}},d.handleMouseMoveOrTouchMove=function(a){if((a.preventDefault(),d.state.zoomed&&d.state.moveStart)&&!(a.touches&&1<a.touches.length)){var b=d.getCoordinatesIfOverImg(a);b&&d.setState(function(a){return{move:{x:b.x-a.moveStart.x,y:b.y-a.moveStart.y}}})}},d.handleMouseUpOrTouchEnd=function(a){d.setState({moveStart:void 0})},d.toggleZoom=function(a){a.preventDefault(),d.setState(function(a){return{zoomed:!a.zoomed,move:a.zoomed?{x:0,y:0}:a.move}})},d.toggleRotate=function(a){a.preventDefault();var b=d.state.rotationDeg;return 360===b?void d.setState({rotationDeg:90}):void d.setState(function(a){return{rotationDeg:a.rotationDeg+=90}})},c),possibleConstructorReturn(d,e)}return inherits(b,a),createClass(b,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown,!1)}},{key:"render",value:function(){var a=this,b=this.props,c=b.medium,d=b.large,e=b.alt,f=b.onClose,g=b.hideDownload,h=b.hideZoom,i=b.showRotate,j=b.imageBackgroundColor,k=void 0===j?"black":j,l=b.onLeftArrowClick,m=b.onRightArrowClick,n=this.state,o=n.move,p=n.zoomed,q=n.rotationDeg;return React__default.createElement("div",null,React__default.createElement(StyleInjector,{name:"__react_modal_image__lightbox",css:lightboxStyles({imageBackgroundColor:k})}),React__default.createElement("div",{className:"__react_modal_image__modal_container"},React__default.createElement("div",{className:"__react_modal_image__modal_content",onMouseDown:this.handleMouseDownOrTouchStart,onMouseUp:this.handleMouseUpOrTouchEnd,onMouseMove:this.handleMouseMoveOrTouchMove,onTouchStart:this.handleMouseDownOrTouchStart,onTouchEnd:this.handleMouseUpOrTouchEnd,onTouchMove:this.handleMouseMoveOrTouchMove,ref:function(b){a.contentEl=b}},p&&React__default.createElement(Image,{id:"react-modal-image-img",className:"__react_modal_image__large_img",src:d||c,style:{transform:"translate3d(-50%, -50%, 0) translate3d("+o.x+"px, "+o.y+"px, 0) rotate("+q+"deg)",WebkitTransform:"translate3d(-50%, -50%, 0) translate3d("+o.x+"px, "+o.y+"px, 0) rotate("+q+"deg)",MsTransform:"translate3d(-50%, -50%, 0) translate3d("+o.x+"px, "+o.y+"px, 0) rotate("+q+"deg)"},handleDoubleClick:this.toggleZoom}),!p&&React__default.createElement(Image,{id:"react-modal-image-img",className:"__react_modal_image__medium_img",src:c||d,handleDoubleClick:this.toggleZoom,contextMenu:!c,style:{transform:"translate3d(-50%, -50%, 0) rotate("+q+"deg)",WebkitTransform:"translate3d(-50%, -50%, 0) rotate("+q+"deg)",MsTransform:"translate3d(-50%, -50%, 0) rotate("+q+"deg)"}})),React__default.createElement(Header,{image:d||c,alt:e,zoomed:p,toggleZoom:this.toggleZoom,toggleRotate:this.toggleRotate,onClose:f,enableDownload:!g,enableZoom:!h,enableRotate:!!i,onLeftArrowClick:l,onRightArrowClick:m})))}}]),b}(React.Component),_class=function(a){function b(){var a,c,d,e;classCallCheck(this,b);for(var f=arguments.length,g=Array(f),h=0;h<f;h++)g[h]=arguments[h];return e=(c=(d=possibleConstructorReturn(this,(a=b.__proto__||Object.getPrototypeOf(b)).call.apply(a,[this].concat(g))),d),d.state={modalOpen:!1},d.toggleModal=function(){d.setState(function(a){return{modalOpen:!a.modalOpen}})},c),possibleConstructorReturn(d,e)}return inherits(b,a),createClass(b,[{key:"render",value:function(){var a=this.props,b=a.className,c=a.small,d=a.smallSrcSet,e=a.medium,f=a.large,g=a.alt,h=a.hideDownload,i=a.hideZoom,j=a.showRotate,k=a.imageBackgroundColor,l=a.onLeftArrowClick,m=a.onRightArrowClick,n=this.state.modalOpen;return React__default.createElement("div",null,React__default.createElement("img",{className:b,style:{cursor:"pointer",maxWidth:"100%",maxHeight:"100%"},onClick:this.toggleModal,src:c,srcSet:d,alt:g}),n&&React__default.createElement(Lightbox,{medium:e,large:f,alt:g,onClose:this.toggleModal,hideDownload:h,hideZoom:i,showRotate:j,imageBackgroundColor:k,onLeftArrowClick:l,onRightArrowClick:m}))}}]),b}(React.Component);function styleInject(a,b){void 0===b&&(b={});var c=b.insertAt;if(a&&"undefined"!=typeof document){var d=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css","top"===c?d.firstChild?d.insertBefore(e,d.firstChild):d.appendChild(e):d.appendChild(e),e.styleSheet?e.styleSheet.cssText=a:e.appendChild(document.createTextNode(a))}}var css_248z="/* add css styles here (optional) */\n.styles_test__NSyxS {\n  display: inline-block;\n  margin: 2em auto;\n  border: 2px solid #000;\n  font-size: 2em; }\n\n*, *:before, *:after {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box; }\n\n.styles_grid__1mw-l {\n  max-width: 1000px;\n  margin: 0 auto;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center; }\n  .styles_gridItem__nPXhF {\n    min-width: 250px;\n    max-width: 250px;\n    flex: 1 1 250px;\n    padding-left: .5rem;\n    padding-right: .5rem;\n    margin-bottom: 1rem; }\n  .styles_gridItem__nPXhF figure > div > img {\n    opacity: 0.5; }\n  .styles_gridItem__nPXhF figure > div > img:hover {\n    opacity: 1; }\n\n#styles_react-modal-image-img__1PSBZ {\n  opacity: 1; }\n\n.styles_wrapper__1kG3C {\n  min-height: 100vh;\n  padding: 2rem 0;\n  background: #40424a;\n  color: #e4e4e8;\n  font-family: 'Roboto', sans-serif;\n  text-align: center; }\n  .styles_wrapper__1kG3C h1 {\n    font-size: 2.125em;\n    line-height: 1.5; }\n  .styles_wrapper__1kG3C p {\n    font-size: 1em;\n    line-height: 1.5;\n    margin-bottom: 1rem;\n    color: #c4c4c8; }\n\n.styles_gridItem__nPXhF figure {\n  padding: 0;\n  margin: 0;\n  box-shadow: 0px 0px 6px 0px rgba(0, 0, 0, 0.05); }\n  .styles_gridItem__nPXhF figure img {\n    display: block;\n    max-width: 100%; }\n\n.styles_gridItem__nPXhF figcaption {\n  display: block;\n  padding: .625rem .5rem;\n  background: #474952;\n  color: white; }\n\n.styles_gridItem__nPXhF figcaption:hover {\n  text-decoration: underline; }\n\n.styles_gridItem__nPXhF a {\n  text-decoration: none; }\n",classes={test:"styles_test__NSyxS",grid:"styles_grid__1mw-l",gridItem:"styles_gridItem__nPXhF","react-modal-image-img":"styles_react-modal-image-img__1PSBZ",wrapper:"styles_wrapper__1kG3C"};styleInject("/* add css styles here (optional) */\n.styles_test__NSyxS {\n  display: inline-block;\n  margin: 2em auto;\n  border: 2px solid #000;\n  font-size: 2em; }\n\n*, *:before, *:after {\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box; }\n\n.styles_grid__1mw-l {\n  max-width: 1000px;\n  margin: 0 auto;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center; }\n  .styles_gridItem__nPXhF {\n    min-width: 250px;\n    max-width: 250px;\n    flex: 1 1 250px;\n    padding-left: .5rem;\n    padding-right: .5rem;\n    margin-bottom: 1rem; }\n  .styles_gridItem__nPXhF figure > div > img {\n    opacity: 0.5; }\n  .styles_gridItem__nPXhF figure > div > img:hover {\n    opacity: 1; }\n\n#styles_react-modal-image-img__1PSBZ {\n  opacity: 1; }\n\n.styles_wrapper__1kG3C {\n  min-height: 100vh;\n  padding: 2rem 0;\n  background: #40424a;\n  color: #e4e4e8;\n  font-family: 'Roboto', sans-serif;\n  text-align: center; }\n  .styles_wrapper__1kG3C h1 {\n    font-size: 2.125em;\n    line-height: 1.5; }\n  .styles_wrapper__1kG3C p {\n    font-size: 1em;\n    line-height: 1.5;\n    margin-bottom: 1rem;\n    color: #c4c4c8; }\n\n.styles_gridItem__nPXhF figure {\n  padding: 0;\n  margin: 0;\n  box-shadow: 0px 0px 6px 0px rgba(0, 0, 0, 0.05); }\n  .styles_gridItem__nPXhF figure img {\n    display: block;\n    max-width: 100%; }\n\n.styles_gridItem__nPXhF figcaption {\n  display: block;\n  padding: .625rem .5rem;\n  background: #474952;\n  color: white; }\n\n.styles_gridItem__nPXhF figcaption:hover {\n  text-decoration: underline; }\n\n.styles_gridItem__nPXhF a {\n  text-decoration: none; }\n");var DztImageGalleryComponent=function(a){function b(){var a,c,d,e;classCallCheck(this,b);for(var f=arguments.length,g=Array(f),h=0;h<f;h++)g[h]=arguments[h];return e=(c=(d=possibleConstructorReturn(this,(a=b.__proto__||Object.getPrototypeOf(b)).call.apply(a,[this].concat(g))),d),d.getBuildImagesItems=function(){var a=0,b=[],c=[],e=d.props.images.length;return d.props.images.forEach(function(f){c[a]=React__default.createRef();var g=a;b.push(React__default.createElement("div",{key:a,className:classes.gridItem},React__default.createElement("figure",null,React__default.createElement(_class,{small:f.thumbUrl,medium:f.url,large:f.url,alt:f.title,hideDownload:d.props.hideDownload,hideZoom:d.props.hideZoom,showRotate:!d.props.hideRotate,className:d.props.imgClassName,imageBackgroundColor:d.props.imageBackgroundColor,ref:c[g],onLeftArrowClick:0<g?function(){c[g].current.toggleModal(),c[g-1].current.toggleModal()}:void 0,onRightArrowClick:e>g+1?function(){c[g].current.toggleModal(),c[g+1].current.toggleModal()}:void 0}),React__default.createElement("figcaption",null,f.title)))),++a}),b},c),possibleConstructorReturn(d,e)}return inherits(b,a),createClass(b,[{key:"render",value:function(){return React__default.createElement("div",{className:classes.wrapper},React__default.createElement("div",{className:classes.grid},this.getBuildImagesItems()))}}]),b}(React.Component);DztImageGalleryComponent.propTypes={images:PropTypes.array,hideDownload:PropTypes.bool,hideZoom:PropTypes.bool,hideRotate:PropTypes.bool,imgClassName:PropTypes.string,imageBackgroundColor:PropTypes.string},module.exports=DztImageGalleryComponent;